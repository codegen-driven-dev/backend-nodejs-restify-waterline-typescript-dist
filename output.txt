
> restify_waterline_scaffold@0.0.7 test /home/samuel/repos/restify_waterline_scaffold
> mocha test --recursive --require ts-node/register

{"name":"main","hostname":"kudu","pid":28894,"level":30,"msg":"{\n    \"AWS_ACCESS_KEY\": \"6Nh5btbpp3J6JLcQWZ07GRfjHEp7GTQv8UmfTVV4\",\n    \"AWS_KEY_ID\": \"AKIAIHIZIUP26AYCZGXA\",\n    \"AZURE_CLOUD_NAME\": \"healthplatform2\",\n    \"AZURE_KEY_FILE\": \"/home/samuel/.ssh/azure/azure_cert.pem\",\n    \"AZURE_NODE_PASSWORD\": \"yVVlmVK5yRQTVGGHkzTj\",\n    \"AZURE_SUBSCRIPTION\": \"3308ebbd-aa26-4565-b7d3-93e20e8e61b8\",\n    \"CLUTTER_IM_MODULE\": \"xim\",\n    \"CMAKE_BINARY_DIR\": \"build\",\n    \"COMPIZ_CONFIG_PROFILE\": \"ubuntu\",\n    \"DBUS_SESSION_BUS_ADDRESS\": \"unix:abstract=/tmp/dbus-mOBgbWRLj0\",\n    \"DEFAULTS_PATH\": \"/usr/share/gconf/ubuntu.default.path\",\n    \"DESKTOP_SESSION\": \"ubuntu\",\n    \"DIGITAL_OCEAN_KEY\": \"9a1223cacfa596291fc69bb9723be72ceca58c898ab0e2021126d81c8a8e4501\",\n    \"DISPLAY\": \":0\",\n    \"GDMSESSION\": \"ubuntu\",\n    \"GDM_LANG\": \"en_AU\",\n    \"GEM_HOME\": \"/home/samuel/.rvm/gems/ruby-2.3.0\",\n    \"GEM_PATH\": \"/home/samuel/.rvm/gems/ruby-2.3.0:/home/samuel/.rvm/gems/ruby-2.3.0@global\",\n    \"GNOME_DESKTOP_SESSION_ID\": \"this-is-deprecated\",\n    \"GNOME_KEYRING_CONTROL\": \"\",\n    \"GNOME_KEYRING_PID\": \"\",\n    \"GOPATH\": \"/home/samuel/gopath\",\n    \"GPG_AGENT_INFO\": \"/home/samuel/.gnupg/S.gpg-agent:0:1\",\n    \"GTK2_MODULES\": \"overlay-scrollbar\",\n    \"GTK_IM_MODULE\": \"ibus\",\n    \"GTK_MODULES\": \"gail:atk-bridge:unity-gtk-module\",\n    \"HOME\": \"/home/samuel\",\n    \"HUB_PROTOCOL\": \"https\",\n    \"IM_CONFIG_PHASE\": \"1\",\n    \"INSTANCE\": \"Unity\",\n    \"IRBRC\": \"/home/samuel/.rvm/rubies/ruby-2.3.0/.irbrc\",\n    \"JAVA_HOME\": \"/usr/lib/jvm/java-8-oracle\",\n    \"JOB\": \"gnome-session\",\n    \"LANG\": \"en_AU.UTF-8\",\n    \"LANGUAGE\": \"en_AU:en\",\n    \"LC_ADDRESS\": \"en_AU.UTF-8\",\n    \"LC_ALL\": \"en_US.UTF-8\",\n    \"LC_IDENTIFICATION\": \"en_AU.UTF-8\",\n    \"LC_MEASUREMENT\": \"en_AU.UTF-8\",\n    \"LC_MESSAGES\": \"en_AU.UTF-8\",\n    \"LC_MONETARY\": \"en_AU.UTF-8\",\n    \"LC_NAME\": \"en_AU.UTF-8\",\n    \"LC_NUMERIC\": \"en_AU.UTF-8\",\n    \"LC_PAPER\": \"en_AU.UTF-8\",\n    \"LC_TELEPHONE\": \"en_AU.UTF-8\",\n    \"LC_TIME\": \"en_AU.UTF-8\",\n    \"LESSCLOSE\": \"/usr/bin/lesspipe %s %s\",\n    \"LESSOPEN\": \"| /usr/bin/lesspipe %s\",\n    \"LIBVIRT_DEFAULT_URI\": \"qemu:///system\",\n    \"LOADED_MOCHA_OPTS\": \"true\",\n    \"LOGNAME\": \"samuel\",\n    \"LS_COLORS\": \"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\",\n    \"MANDATORY_PATH\": \"/usr/share/gconf/ubuntu.mandatory.path\",\n    \"MY_RUBY_HOME\": \"/home/samuel/.rvm/rubies/ruby-2.3.0\",\n    \"NODE\": \"/home/samuel/n/bin/node\",\n    \"N_PREFIX\": \"/home/samuel/n\",\n    \"PAPERSIZE\": \"a4\",\n    \"PATH\": \"/home/samuel/n/lib/node_modules/npm/bin/node-gyp-bin:/home/samuel/repos/restify_waterline_scaffold/node_modules/.bin:/home/samuel/n/bin:/home/samuel/gopath/bin:/home/samuel/.rvm/gems/ruby-2.3.0/bin:/home/samuel/.rvm/gems/ruby-2.3.0@global/bin:/home/samuel/.rvm/rubies/ruby-2.3.0/bin:/home/samuel/.cabal/bin:/opt/cabal/1.24/bin:/opt/ghc/7.10.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/local/go/bin:/opt/JavaLibs/apache-maven-3.3.9/bin:/opt/libs/bin:/home/samuel/.rvm/bin:/home/samuel/.rvm/bin:/home/samuel/.rvm/bin:/home/samuel/n/bin:/home/samuel/.rvm/bin:/home/samuel/.rvm/bin\",\n    \"PRIVATE_KEY_PATH\": \"/home/samuel/.ssh/aws/offscale.pem\",\n    \"PUBLIC_KEY_NAME\": \"offscale\",\n    \"PUBLIC_KEY_PATH\": \"/home/samuel/.ssh/aws/offscale.pub\",\n    \"PWD\": \"/home/samuel/repos/restify_waterline_scaffold\",\n    \"QT4_IM_MODULE\": \"xim\",\n    \"QT_ACCESSIBILITY\": \"1\",\n    \"QT_IM_MODULE\": \"ibus\",\n    \"QT_LINUX_ACCESSIBILITY_ALWAYS_ON\": \"1\",\n    \"QT_QPA_PLATFORMTHEME\": \"appmenu-qt5\",\n    \"RDBMS_URI\": \"postgresql://postgres:newPassword@localhost/rest_api_db\",\n    \"RUBY_VERSION\": \"ruby-2.3.0\",\n    \"SESSIONTYPE\": \"gnome-session\",\n    \"SHELL\": \"/bin/bash\",\n    \"SHLVL\": \"2\",\n    \"SL_KEY\": \"0b37adbafb4baf1bd62101ae43a728d2581e377071581d306c911f32f1ec6dc2\",\n    \"SL_USER\": \"SL970553\",\n    \"SSH_AUTH_SOCK\": \"/run/user/1000/keyring/ssh\",\n    \"SSH_KEY_FINGERPRINT\": \"35:ba:d4:dc:80:5c:f5:24:be:5e:77:50:4c:af:b3:4b\",\n    \"TERM\": \"xterm-256color\",\n    \"TMPDIR\": \"/home/samuel/tmp\",\n    \"UPSTART_EVENTS\": \"started starting\",\n    \"UPSTART_INSTANCE\": \"\",\n    \"UPSTART_JOB\": \"unity-settings-daemon\",\n    \"UPSTART_SESSION\": \"unix:abstract=/com/ubuntu/upstart-session/1000/4393\",\n    \"USER\": \"samuel\",\n    \"VTE_VERSION\": \"4205\",\n    \"WINDOWID\": \"81793921\",\n    \"XAUTHORITY\": \"/home/samuel/.Xauthority\",\n    \"XDG_CONFIG_DIRS\": \"/etc/xdg/xdg-ubuntu:/usr/share/upstart/xdg:/etc/xdg\",\n    \"XDG_CURRENT_DESKTOP\": \"Unity\",\n    \"XDG_DATA_DIRS\": \"/usr/share/ubuntu:/usr/share/gnome:/usr/local/share/:/usr/share/\",\n    \"XDG_GREETER_DATA_DIR\": \"/var/lib/lightdm-data/samuel\",\n    \"XDG_RUNTIME_DIR\": \"/run/user/1000\",\n    \"XDG_SEAT\": \"seat0\",\n    \"XDG_SEAT_PATH\": \"/org/freedesktop/DisplayManager/Seat0\",\n    \"XDG_SESSION_DESKTOP\": \"ubuntu\",\n    \"XDG_SESSION_ID\": \"c2\",\n    \"XDG_SESSION_PATH\": \"/org/freedesktop/DisplayManager/Session0\",\n    \"XDG_SESSION_TYPE\": \"x11\",\n    \"XDG_VTNR\": \"7\",\n    \"XMODIFIERS\": \"@im=ibus\",\n    \"_\": \"/home/samuel/n/bin/npm\",\n    \"_system_arch\": \"x86_64\",\n    \"_system_name\": \"Ubuntu\",\n    \"_system_type\": \"Linux\",\n    \"_system_version\": \"16.04\",\n    \"npm_config_access\": \"\",\n    \"npm_config_also\": \"\",\n    \"npm_config_always_auth\": \"\",\n    \"npm_config_argv\": \"{\\\"remain\\\":[],\\\"cooked\\\":[\\\"test\\\"],\\\"original\\\":[\\\"test\\\"]}\",\n    \"npm_config_bin_links\": \"true\",\n    \"npm_config_browser\": \"\",\n    \"npm_config_ca\": \"\",\n    \"npm_config_cache\": \"/home/samuel/.npm\",\n    \"npm_config_cache_lock_retries\": \"10\",\n    \"npm_config_cache_lock_stale\": \"60000\",\n    \"npm_config_cache_lock_wait\": \"10000\",\n    \"npm_config_cache_max\": \"Infinity\",\n    \"npm_config_cache_min\": \"10\",\n    \"npm_config_cafile\": \"\",\n    \"npm_config_cert\": \"\",\n    \"npm_config_color\": \"true\",\n    \"npm_config_depth\": \"Infinity\",\n    \"npm_config_description\": \"true\",\n    \"npm_config_dev\": \"\",\n    \"npm_config_dry_run\": \"\",\n    \"npm_config_editor\": \"vi\",\n    \"npm_config_engine_strict\": \"\",\n    \"npm_config_fetch_retries\": \"2\",\n    \"npm_config_fetch_retry_factor\": \"10\",\n    \"npm_config_fetch_retry_maxtimeout\": \"60000\",\n    \"npm_config_fetch_retry_mintimeout\": \"10000\",\n    \"npm_config_force\": \"\",\n    \"npm_config_git\": \"git\",\n    \"npm_config_git_tag_version\": \"true\",\n    \"npm_config_global\": \"\",\n    \"npm_config_global_style\": \"\",\n    \"npm_config_globalconfig\": \"/home/samuel/n/etc/npmrc\",\n    \"npm_config_globalignorefile\": \"/home/samuel/n/etc/npmignore\",\n    \"npm_config_group\": \"1000\",\n    \"npm_config_heading\": \"npm\",\n    \"npm_config_https_proxy\": \"\",\n    \"npm_config_if_present\": \"\",\n    \"npm_config_ignore_scripts\": \"\",\n    \"npm_config_init_author_email\": \"\",\n    \"npm_config_init_author_name\": \"\",\n    \"npm_config_init_author_url\": \"\",\n    \"npm_config_init_license\": \"ISC\",\n    \"npm_config_init_module\": \"/home/samuel/.npm-init.js\",\n    \"npm_config_init_version\": \"1.0.0\",\n    \"npm_config_json\": \"\",\n    \"npm_config_key\": \"\",\n    \"npm_config_legacy_bundling\": \"\",\n    \"npm_config_link\": \"\",\n    \"npm_config_local_address\": \"\",\n    \"npm_config_loglevel\": \"warn\",\n    \"npm_config_long\": \"\",\n    \"npm_config_maxsockets\": \"50\",\n    \"npm_config_message\": \"%s\",\n    \"npm_config_node_version\": \"4.4.7\",\n    \"npm_config_npat\": \"\",\n    \"npm_config_onload_script\": \"\",\n    \"npm_config_only\": \"\",\n    \"npm_config_optional\": \"true\",\n    \"npm_config_parseable\": \"\",\n    \"npm_config_prefix\": \"/home/samuel/n\",\n    \"npm_config_production\": \"\",\n    \"npm_config_progress\": \"true\",\n    \"npm_config_proprietary_attribs\": \"true\",\n    \"npm_config_proxy\": \"\",\n    \"npm_config_rebuild_bundle\": \"true\",\n    \"npm_config_registry\": \"https://registry.npmjs.org/\",\n    \"npm_config_rollback\": \"true\",\n    \"npm_config_save\": \"\",\n    \"npm_config_save_bundle\": \"\",\n    \"npm_config_save_dev\": \"\",\n    \"npm_config_save_exact\": \"\",\n    \"npm_config_save_optional\": \"\",\n    \"npm_config_save_prefix\": \"^\",\n    \"npm_config_scope\": \"\",\n    \"npm_config_searchexclude\": \"\",\n    \"npm_config_searchopts\": \"\",\n    \"npm_config_searchsort\": \"name\",\n    \"npm_config_shell\": \"/bin/bash\",\n    \"npm_config_shrinkwrap\": \"true\",\n    \"npm_config_sign_git_tag\": \"\",\n    \"npm_config_strict_ssl\": \"true\",\n    \"npm_config_tag\": \"latest\",\n    \"npm_config_tag_version_prefix\": \"v\",\n    \"npm_config_tmp\": \"/home/samuel/tmp\",\n    \"npm_config_umask\": \"0002\",\n    \"npm_config_unicode\": \"true\",\n    \"npm_config_unsafe_perm\": \"true\",\n    \"npm_config_usage\": \"\",\n    \"npm_config_user\": \"1000\",\n    \"npm_config_user_agent\": \"npm/3.10.5 node/v4.4.7 linux x64\",\n    \"npm_config_userconfig\": \"/home/samuel/.npmrc\",\n    \"npm_config_version\": \"\",\n    \"npm_config_versions\": \"\",\n    \"npm_config_viewer\": \"man\",\n    \"npm_execpath\": \"/home/samuel/n/lib/node_modules/npm/bin/npm-cli.js\",\n    \"npm_lifecycle_event\": \"test\",\n    \"npm_lifecycle_script\": \"mocha test --recursive --require ts-node/register\",\n    \"npm_node_execpath\": \"/home/samuel/n/bin/node\",\n    \"npm_package_author_email\": \"samuelmarks@gmail.com\",\n    \"npm_package_author_name\": \"Samuel Marks\",\n    \"npm_package_bugs_url\": \"https://github.com/SamuelMarks/restify_waterline_scaffold/issues\",\n    \"npm_package_dependencies_async_es\": \"^2.0.0\",\n    \"npm_package_dependencies_hiredis\": \"^0.5.0\",\n    \"npm_package_dependencies_node_uuid\": \"^1.4.7\",\n    \"npm_package_dependencies_nodejs_utils\": \"https://api.github.com/repos/SamuelMarks/nodejs-utils-dist/tarball\",\n    \"npm_package_dependencies_redis\": \"^2.6.0-2\",\n    \"npm_package_dependencies_restify\": \"^4.0.4\",\n    \"npm_package_dependencies_restify_errors\": \"https://api.github.com/repos/SamuelMarks/restify-errors-dist/tarball\",\n    \"npm_package_dependencies_restify_utils\": \"https://api.github.com/repos/SamuelMarks/restify-utils-dist/tarball\",\n    \"npm_package_dependencies_restify_validators\": \"https://api.github.com/repos/SamuelMarks/restify-validators-dist/tarball\",\n    \"npm_package_dependencies_tv4\": \"^1.2.7\",\n    \"npm_package_dependencies_typescript\": \"^1.9.0-dev.20160504\",\n    \"npm_package_dependencies_waterline\": \"^0.12.1\",\n    \"npm_package_dependencies_waterline_postgresql\": \"^0.14.8\",\n    \"npm_package_description\": \"Simple baseline scaffold to get you started using Restify and Waterline with TypeScript.\",\n    \"npm_package_devDependencies_chai\": \"^3.5.0\",\n    \"npm_package_devDependencies_chai_json_schema\": \"^1.2.0\",\n    \"npm_package_devDependencies_mocha\": \"^2.4.5\",\n    \"npm_package_devDependencies_supertest\": \"^1.2.0\",\n    \"npm_package_devDependencies_ts_node\": \"^1.0.0\",\n    \"npm_package_devDependencies_typescript\": \"^1.8.10\",\n    \"npm_package_gitHead\": \"db3c46310ce2df944078b791e68a901b01af85c5\",\n    \"npm_package_homepage\": \"https://github.com/SamuelMarks/restify_waterline_scaffold#readme\",\n    \"npm_package_license\": \"Apache-2.0\",\n    \"npm_package_main\": \"main.js\",\n    \"npm_package_name\": \"restify_waterline_scaffold\",\n    \"npm_package_readmeFilename\": \"README.md\",\n    \"npm_package_repository_url\": \"git+https://github.com/SamuelMarks/restify_waterline_scaffold.git\",\n    \"npm_package_scripts_prepublish\": \"tsc\",\n    \"npm_package_scripts_prestart\": \"tsc\",\n    \"npm_package_scripts_start\": \"node main.js\",\n    \"npm_package_scripts_test\": \"mocha test --recursive --require ts-node/register\",\n    \"npm_package_version\": \"0.0.7\",\n    \"rvm_bin_path\": \"/home/samuel/.rvm/bin\",\n    \"rvm_path\": \"/home/samuel/.rvm\",\n    \"rvm_prefix\": \"/home/samuel\",\n    \"rvm_version\": \"1.27.0 (latest)\"\n}","time":"2016-07-22T13:27:52.670Z","v":0}
{"name":"main","hostname":"kudu","pid":28894,"level":30,"msg":"------------","time":"2016-07-22T13:27:52.672Z","v":0}


  Auth::routes
{"name":"main","hostname":"kudu","pid":28894,"level":40,"msg":"Not initialising: auth.AccessToken","time":"2016-07-22T13:27:52.800Z","v":0}
{"name":"main","hostname":"kudu","pid":28894,"level":30,"msg":"ORM initialised with collections: [ 'user_tbl' ]","time":"2016-07-22T13:27:52.913Z","v":0}
    /api/auth
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43292,"req_id":"98f23c70-db8b-4708-8822-849ed0985c78","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37148","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":179,"readBody":1687,"parseBody":245,"has_body":39,"valid_body":2257,"handler-0":17770}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":25,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:52.953Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43294,"req_id":"e4d454f0-2c17-4e04-91f4-767b56961334","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37148","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":50,"readBody":246,"parseBody":40,"has_body":3,"valid_body":93,"handler-0":21852}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":23,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:52.963Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43296,"req_id":"a49fe348-2858-47f9-8248-ac2dd1fe5d6c","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37148","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":73,"parseBody":12,"has_body":2,"valid_body":37,"handler-0":25744}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":26,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:52.967Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43298,"req_id":"cf00eb94-57e6-4c34-ac96-8c03fabd9bbf","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37148","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":14,"readBody":64,"parseBody":11,"has_body":2,"valid_body":24,"handler-0":25713}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":26,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:52.969Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":52856,"req_id":"3cb55248-a65a-4eb8-8f29-d05696388131","req":{"query":{},"method":"POST","url":"/api/user","headers":{"host":"127.0.0.1:38397","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":25,"readBody":169,"parseBody":30,"has_body":4,"valid_body":40,"handler-0":14043}},"res":{"statusCode":201,"headers":{"x-access-token":"login::3af2dc72-5fb9-4a71-8b79-494db946ffd4","content-type":"application/json","content-length":101},"trailer":false},"latency":15,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:52.984Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":33014,"req_id":"95685a48-d5e8-4c20-8d95-1d70f6f62134","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:43898","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":66,"readBody":188,"parseBody":30,"has_body":3,"valid_body":40,"handler-0":3859}},"res":{"statusCode":201,"headers":{"x-access-token":"login::1666dd5e-b9ad-47aa-9578-c69a97b6a42e","content-type":"application/json","content-length":62},"trailer":false},"latency":5,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:52.994Z","v":0}

      âœ“ POST should login user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":33784,"req_id":"ce7498fa-9101-4448-b0ea-8ff919b6e13f","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:46807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":99,"readBody":76,"parseBody":52,"has_body":77,"valid_body":40,"handler-0":5598}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.004Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":33786,"req_id":"84f77edc-1367-4677-885c-1a67ae906f0c","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:46807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":61,"parseBody":12,"has_body":2,"valid_body":27,"handler-0":6246}},"res":{"statusCode":201,"headers":{"x-access-token":"login::507bff8b-1ace-494a-82c5-eefb32292daf","content-type":"application/json","content-length":62},"trailer":false},"latency":6,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.005Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":33788,"req_id":"f765bb32-ee07-411d-9171-e628372ec014","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:46807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":11,"readBody":138,"parseBody":12,"has_body":2,"valid_body":26,"handler-0":6172}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.006Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":33790,"req_id":"3a7a6d6a-8ece-4b94-8603-c59df418784b","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:46807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":11,"readBody":58,"parseBody":12,"has_body":2,"valid_body":23,"handler-0":8720}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.010Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58762,"req_id":"e550e19d-79f9-4934-95b2-81794c6f8766","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37863","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":16,"readBody":80,"parseBody":16,"has_body":3,"valid_body":36,"handler-0":7548}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.025Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58760,"req_id":"6349d2f7-3a27-4583-aa6f-e4aaf0c55da5","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:37863","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::507bff8b-1ace-494a-82c5-eefb32292daf"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":9,"readBody":58,"parseBody":20,"handler-0":431,"handler-1":14718}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":15,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.026Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58766,"req_id":"a3e3e062-31e1-46a7-bd02-35e2aa73f490","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37863","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":57,"readBody":62,"parseBody":12,"has_body":2,"valid_body":25,"handler-0":10839}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":11,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.030Z","v":0}

      1) DELETE should logout user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58764,"req_id":"5fecedfb-57cc-4d37-b253-2fd44d9347b8","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37863","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":69,"parseBody":13,"has_body":2,"valid_body":29,"handler-0":15104}},"res":{"statusCode":201,"headers":{"x-access-token":"login::1fc3cf19-8435-444b-bb43-4a097dc3a435","content-type":"application/json","content-length":62},"trailer":false},"latency":15,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.033Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58768,"req_id":"7bf0501b-7826-4106-9d86-0ed45bd54f0e","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37863","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":85,"parseBody":12,"has_body":2,"valid_body":26,"handler-0":16887}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":17,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.037Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43056,"req_id":"dc886dde-7031-4d6b-8048-0f33199b9405","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":14,"readBody":63,"parseBody":14,"has_body":3,"valid_body":35,"handler-0":9237}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":9,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.047Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43060,"req_id":"3bfdac25-92ab-44a4-980c-38f2436e527c","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":201,"parseBody":13,"has_body":2,"valid_body":27,"handler-0":7677}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.048Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43062,"req_id":"fb184304-449c-4e81-9bcf-0edaabecb8aa","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":60,"parseBody":12,"has_body":2,"valid_body":28,"handler-0":8768}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":9,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.049Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43058,"req_id":"520f36b7-7108-4799-899e-3e698eb8bbc6","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":16,"readBody":133,"parseBody":22,"has_body":2,"valid_body":28,"handler-0":11154}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":12,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.050Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":43064,"req_id":"15bca709-4785-4f3d-9117-c6cb20c19427","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:34807","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::1fc3cf19-8435-444b-bb43-4a097dc3a435"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":15,"readBody":106,"parseBody":13,"handler-0":773,"handler-1":8723}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":9,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.052Z","v":0}

  Root::routes
    /
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":57242,"req_id":"9458d664-3e4c-4cd1-b664-72f9c4920add","req":{"query":{},"method":"GET","url":"/","headers":{"host":"127.0.0.1:33040","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"close"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":72,"parseBody":8,"handler-0":292}},"res":{"statusCode":200,"headers":{"content-type":"application/json","content-length":19},"trailer":false},"latency":0,"_audit":true,"msg":"handled: 200","time":"2016-07-22T13:27:53.057Z","v":0}

      âœ“ should get version

  User::routes
{"name":"main","hostname":"kudu","pid":28894,"level":40,"msg":"Not initialising: auth.AccessToken","time":"2016-07-22T13:27:53.060Z","v":0}
{"name":"main","hostname":"kudu","pid":28894,"level":30,"msg":"ORM initialised with collections: [ 'user_tbl' ]","time":"2016-07-22T13:27:53.119Z","v":0}
    /api/user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47906,"req_id":"6570dac1-49f5-4069-a35e-537c302d4c6c","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40901","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":166,"parseBody":41,"has_body":6,"valid_body":48,"handler-0":7173}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.130Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47908,"req_id":"90a22fb3-7922-4ab6-a414-86aa23834d49","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40901","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":15,"readBody":137,"parseBody":32,"has_body":3,"valid_body":129,"handler-0":12154}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":13,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.136Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47910,"req_id":"2aa13290-1362-4a35-90c0-ff867d6444ba","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40901","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":115,"parseBody":15,"has_body":2,"valid_body":29,"handler-0":14589}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":15,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.140Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47912,"req_id":"95ea6745-081f-4176-818d-231f3c0314b1","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40901","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":11,"readBody":402,"parseBody":25,"has_body":5,"valid_body":46,"handler-0":14585}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":15,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.140Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":45026,"req_id":"236a32c3-9903-41ce-b568-9a17dcc2881a","req":{"query":{},"method":"POST","url":"/api/user","headers":{"host":"127.0.0.1:45787","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":8,"readBody":66,"parseBody":15,"has_body":3,"valid_body":40,"handler-0":17474}},"res":{"statusCode":201,"headers":{"x-access-token":"login::8e2bad96-b525-4c7d-9cd4-ff2584ae5d1c","content-type":"application/json","content-length":101},"trailer":false},"latency":18,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.159Z","v":0}

      âœ“ POST should create user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47528,"req_id":"0e001f21-1aed-4c22-9cbd-6ad6e140d013","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34470","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":61,"parseBody":163,"has_body":3,"valid_body":24,"handler-0":7031}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.170Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47526,"req_id":"2b6d2055-7bd0-49b4-afb0-56f2bae3563d","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34470","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":15,"readBody":71,"parseBody":16,"has_body":3,"valid_body":38,"handler-0":9642}},"res":{"statusCode":201,"headers":{"x-access-token":"login::dedfa414-2e11-4006-b200-75159e29a535","content-type":"application/json","content-length":62},"trailer":false},"latency":10,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.171Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47530,"req_id":"e27c6f87-988f-4aed-bcc1-561482b13bb8","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34470","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":471,"parseBody":17,"has_body":3,"valid_body":32,"handler-0":8193}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":9,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.172Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":47532,"req_id":"da009f11-31d4-42e8-9d89-d8c85e2bbd1f","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:34470","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":14,"readBody":71,"parseBody":15,"has_body":3,"valid_body":28,"handler-0":9034}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":9,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.173Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58478,"req_id":"6d20cd82-4248-498a-85a8-f2392567da35","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":19,"readBody":91,"parseBody":18,"has_body":3,"valid_body":40,"handler-0":5429}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.185Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58480,"req_id":"6c31d464-428b-4948-92c4-50a888625b11","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":11,"readBody":55,"parseBody":11,"has_body":2,"valid_body":22,"handler-0":5315}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.186Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58476,"req_id":"6b515641-f554-41ff-b793-6d6e3936ac4d","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":65,"parseBody":14,"has_body":2,"valid_body":34,"handler-0":10365}},"res":{"statusCode":201,"headers":{"x-access-token":"login::b216a958-10ea-4b86-a626-4e48a2d5ec36","content-type":"application/json","content-length":62},"trailer":false},"latency":11,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.188Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58482,"req_id":"9df32a3b-059b-4b06-8cd5-8c995085e721","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":49,"parseBody":10,"has_body":1,"valid_body":21,"handler-0":7458}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.189Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58474,"req_id":"9858a1ce-6135-468a-91fd-7ba7959ed57b","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::dedfa414-2e11-4006-b200-75159e29a535"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":8,"readBody":11,"parseBody":4,"handler-0":250,"handler-1":14587}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":14,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.192Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58488,"req_id":"96be6bd1-7d3d-4751-889e-cea02a5c74e5","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::b216a958-10ea-4b86-a626-4e48a2d5ec36"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":10,"readBody":21,"parseBody":4,"handler-0":829,"handler-1":2957}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":4,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.195Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":58486,"req_id":"7f77ffb1-1c35-424b-af5b-c17c31ec02e4","req":{"query":{},"method":"POST","url":"/api/user","headers":{"host":"127.0.0.1:44272","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":19,"readBody":119,"parseBody":15,"has_body":3,"valid_body":35,"handler-0":5420}},"res":{"statusCode":201,"headers":{"x-access-token":"login::cd157a8e-8028-495d-bfab-1434d3e9e9ae","content-type":"application/json","content-length":101},"trailer":false},"latency":6,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.196Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":48402,"req_id":"ffa8e173-e2c2-4e7d-8db2-785ac1801136","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:35176","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":14,"readBody":61,"parseBody":13,"has_body":3,"valid_body":33,"handler-0":1774}},"res":{"statusCode":201,"headers":{"x-access-token":"login::a6752e0f-5ae5-4278-a876-0bd0eee03c4c","content-type":"application/json","content-length":62},"trailer":false},"latency":2,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.199Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":39774,"req_id":"0eb51c26-580e-4fbc-99e5-97194c703e68","req":{"query":{},"method":"GET","url":"/api/user","headers":{"host":"127.0.0.1:36523","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","x-access-token":"login::a6752e0f-5ae5-4278-a876-0bd0eee03c4c","connection":"keep-alive"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":8,"readBody":37,"parseBody":4,"handler-0":106,"handler-1":1749}},"res":{"statusCode":200,"headers":{"content-type":"application/json","content-length":101},"trailer":false},"latency":2,"_audit":true,"msg":"handled: 200","time":"2016-07-22T13:27:53.203Z","v":0}

      âœ“ GET should retrieve user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":51602,"req_id":"5db1eef7-7450-4450-a4fc-6ce3df81cb0a","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:42420","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":34,"readBody":1470,"parseBody":29,"has_body":5,"valid_body":62,"handler-0":7398}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":9,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.215Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":51604,"req_id":"f0657c2e-6803-4af0-8e92-f10e17ff8515","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:42420","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":23,"readBody":89,"parseBody":17,"has_body":3,"valid_body":117,"handler-0":6963}},"res":{"statusCode":201,"headers":{"x-access-token":"login::7c380dff-0684-44d5-93c5-bec28ab755e5","content-type":"application/json","content-length":62},"trailer":false},"latency":7,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.216Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":51606,"req_id":"d224ec0c-cafa-4aa6-9e54-8e9c0408baec","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:42420","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":14,"readBody":58,"parseBody":12,"has_body":2,"valid_body":36,"handler-0":6256}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.216Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":51608,"req_id":"b005372c-e2d1-4f58-8f22-69745e897bcf","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:42420","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":21,"readBody":90,"parseBody":20,"has_body":3,"valid_body":49,"handler-0":6583}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.218Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":39784,"req_id":"699e3409-b2c2-41f3-92d7-8c978430481c","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40588","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":66,"parseBody":23,"has_body":3,"valid_body":36,"handler-0":6672}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.228Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":39782,"req_id":"e4f92620-d0ab-4e42-9709-a5e574d9f2d6","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:40588","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::7c380dff-0684-44d5-93c5-bec28ab755e5"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":15,"readBody":12,"parseBody":4,"handler-0":111,"handler-1":9650}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":10,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.229Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":39786,"req_id":"273d844d-adb4-4823-8ef8-800702ac2407","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40588","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":21,"readBody":631,"parseBody":25,"has_body":6,"valid_body":46,"handler-0":8156}},"res":{"statusCode":201,"headers":{"x-access-token":"login::96332257-3815-4a58-bd4e-187695192341","content-type":"application/json","content-length":62},"trailer":false},"latency":9,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.231Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":39788,"req_id":"15797875-e2ee-425c-b1a2-28c4ea6d30f5","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40588","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":54,"parseBody":13,"has_body":2,"valid_body":28,"handler-0":8315}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.232Z","v":0}

      2) PUT should edit user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":39790,"req_id":"5f3156ab-0eb6-4a8e-98e8-6fe8050981f8","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:40588","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":11,"readBody":287,"parseBody":14,"has_body":2,"valid_body":26,"handler-0":13434}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45\n    at process._tickDomainCallback (node.js:412:9)"},"latency":13,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.238Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":34154,"req_id":"6b2ab62b-482a-4983-88eb-0d4aeb0f056c","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:45713","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":58,"parseBody":14,"has_body":3,"valid_body":36,"handler-0":6725}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.247Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":34156,"req_id":"6f163494-5827-4702-b8bb-9532424ed713","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:45713","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":9,"readBody":53,"parseBody":13,"has_body":1,"valid_body":20,"handler-0":6877}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.247Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":34158,"req_id":"d5baf3d6-bf34-4522-a988-a5cb4debae3e","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:45713","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":41,"parseBody":10,"has_body":1,"valid_body":1173,"handler-0":11079}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":12,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.253Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":34160,"req_id":"c40f913b-b564-4a55-9973-4ea234cc6143","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:45713","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":177,"readBody":53,"parseBody":13,"has_body":2,"valid_body":195,"handler-0":11468}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":12,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.254Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":34152,"req_id":"250d60a6-6a3d-41e7-8581-e585ff682ef6","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:45713","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::96332257-3815-4a58-bd4e-187695192341"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":17,"readBody":14,"parseBody":3,"handler-0":4011,"handler-1":11915}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":16,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.256Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":53224,"req_id":"ca837de4-bf40-4df1-9979-d51b7a6c5f86","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:39197","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":98,"parseBody":16,"has_body":3,"valid_body":36,"handler-0":6217}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.264Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":53226,"req_id":"f063ddb6-0af8-4a34-b611-61b96d660313","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:39197","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":9,"readBody":46,"parseBody":12,"has_body":2,"valid_body":19,"handler-0":5987}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":6,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.265Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":53228,"req_id":"23d47ff2-2554-4d7c-ab24-4f7b00ded904","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:39197","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":17,"readBody":46,"parseBody":11,"has_body":2,"valid_body":19,"handler-0":7166}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.267Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":53230,"req_id":"9d301080-2717-4e79-9ff0-741b4fdef1c4","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:39197","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":175,"parseBody":16,"has_body":3,"valid_body":27,"handler-0":7157}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.268Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":36948,"req_id":"8aed42c4-f46b-4169-9be2-03207e5b9ea0","req":{"query":{},"method":"POST","url":"/api/user","headers":{"host":"127.0.0.1:39604","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":51,"parseBody":14,"has_body":2,"valid_body":33,"handler-0":9586}},"res":{"statusCode":201,"headers":{"x-access-token":"login::9a490c76-96fe-4028-bc02-7f2bc7f422fe","content-type":"application/json","content-length":101},"trailer":false},"latency":10,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.278Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":52322,"req_id":"e749a6eb-4f2b-4979-bbca-27e4e8f3a21b","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:37333","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":14,"readBody":62,"parseBody":13,"has_body":2,"valid_body":29,"handler-0":2123}},"res":{"statusCode":201,"headers":{"x-access-token":"login::7ae7eff1-42d1-4735-8561-5b89f58e3ee2","content-type":"application/json","content-length":62},"trailer":false},"latency":2,"_audit":true,"msg":"handled: 201","time":"2016-07-22T13:27:53.282Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":35198,"req_id":"a4074bb4-5894-4d45-90a7-b2c0c91170bc","req":{"query":{},"method":"DELETE","url":"/api/user","headers":{"host":"127.0.0.1:38129","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","x-access-token":"login::7ae7eff1-42d1-4735-8561-5b89f58e3ee2"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":15,"readBody":15,"parseBody":11,"handler-0":119,"handler-1":4780}},"res":{"statusCode":204,"headers":null,"trailer":false},"latency":5,"_audit":true,"msg":"handled: 204","time":"2016-07-22T13:27:53.289Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":40520,"req_id":"fa4bdaea-4558-4868-baf8-fccf75e5c79f","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:46776","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":11,"readBody":60,"parseBody":16,"has_body":4,"valid_body":36,"handler-0":1398}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":2,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.292Z","v":0}

      âœ“ DELETE should unregister user
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":41414,"req_id":"63dfc246-8065-4df6-ab11-b55a19d4b952","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:43303","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":12,"readBody":95,"parseBody":15,"has_body":2,"valid_body":30,"handler-0":7205}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.303Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":41416,"req_id":"9f22cbcb-e639-4b53-88fb-9ca9ddc72a19","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:43303","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":9,"readBody":80,"parseBody":11,"has_body":1,"valid_body":19,"handler-0":6772}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.303Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":41418,"req_id":"878f15a6-f184-4592-bb11-06d67efc7306","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:43303","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"40"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":13,"readBody":61,"parseBody":15,"has_body":3,"valid_body":27,"handler-0":7030}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":8,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.304Z","v":0}
{"name":"audit","hostname":"kudu","pid":28894,"audit":true,"level":30,"remoteAddress":"::ffff:127.0.0.1","remotePort":41420,"req_id":"450ddedb-f355-47d2-9531-4aeaa70dee7e","req":{"query":{},"method":"POST","url":"/api/auth","headers":{"host":"127.0.0.1:43303","accept-encoding":"gzip, deflate","user-agent":"node-superagent/1.8.3","connection":"keep-alive","content-type":"application/json","content-length":"41"},"httpVersion":"1.1","trailers":{},"version":"*","timers":{"parseQueryString":18,"readBody":79,"parseBody":103,"has_body":3,"valid_body":30,"handler-0":6602}},"res":{"statusCode":404,"headers":{"content-type":"application/json","content-length":58},"trailer":false},"err":{"message":"User not found","name":"NotFoundError","stack":"NotFoundError: User not found\n    at /home/samuel/repos/restify_waterline_scaffold/api/auth/routes.js:18:47\n    at returnResults (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:166:30)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/basic.js:97:16\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/query/finders/operations.js:80:46\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/adapter/dql.js:165:37\n    at wrapper (/home/samuel/repos/restify_waterline_scaffold/node_modules/lodash/index.js:3592:19)\n    at applyInOriginalCtx (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:435:80)\n    at wrappedCallback (/home/samuel/repos/restify_waterline_scaffold/node_modules/waterline/lib/waterline/utils/normalize.js:338:18)\n    at callback.success (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/normalize.js:33:31)\n    at _switch (/home/samuel/repos/restify_waterline_scaffold/node_modules/switchback/lib/factory.js:58:28)\n    at /home/samuel/repos/restify_waterline_scaffold/node_modules/waterline-postgresql/dist/adapter.js:455:45"},"latency":7,"_audit":true,"msg":"handled: 404","time":"2016-07-22T13:27:53.305Z","v":0}


  5 passing (555ms)
  2 failing

  1) Auth::routes /api/auth DELETE should logout user:
     TypeError: Cannot read property 'header' of undefined
      at Test._assertHeader (node_modules/supertest/lib/test.js:208:19)
      at Test._assertFunction (node_modules/supertest/lib/test.js:247:11)
      at Test.assert (node_modules/supertest/lib/test.js:148:18)
      at assert (node_modules/supertest/lib/test.js:127:12)
      at node_modules/supertest/lib/test.js:124:5
      at Test.Request.callback (node_modules/superagent/lib/node/index.js:687:12)
      at ClientRequest.<anonymous> (node_modules/superagent/lib/node/index.js:639:10)
      at Socket.socketErrorListener (_http_client.js:267:9)
      at emitErrorNT (net.js:1269:8)

  2) User::routes /api/user PUT should edit user:
         TypeError: Cannot read property 'header' of undefined
      at Test._assertHeader (node_modules/supertest/lib/test.js:208:19)
      at Test._assertFunction (node_modules/supertest/lib/test.js:247:11)
      at Test.assert (node_modules/supertest/lib/test.js:148:18)
      at assert (node_modules/supertest/lib/test.js:127:12)
      at node_modules/supertest/lib/test.js:124:5
      at Test.Request.callback (node_modules/superagent/lib/node/index.js:687:12)
      at ClientRequest.<anonymous> (node_modules/superagent/lib/node/index.js:639:10)
      at Socket.socketErrorListener (_http_client.js:267:9)
      at emitErrorNT (net.js:1269:8)



